I"<p>在使用 Vscode 的 Vim 模式写字时，经常会遇到一个问题：在 insert 模式下输入完一段中文后，<code class="highlighter-rouge">Esc</code> 回到 normal 模式后，想 <code class="highlighter-rouge">J</code> 切到下一行，却跳出来中文输入法，有点难受。</p>

<p>如果编辑器能记住我 insert 模式下使用的输入法，在退出到 normal 模式时自动切换到英文输入法，再次进入 insert 模式后，自动切换到上次 insert 模式使用的输入法，那就挺不错了。</p>

<p>Vscode 的 Vim 插件就有这样的功能：https://github.com/VSCodeVim/Vim#input-method</p>

<!-- <br> -->

<ul>
  <li>我们首先安装 im-select: 这个命令行工具可以获取当前输入法及切换输入法。</li>
</ul>

<p>安装：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>curl -Ls https://raw.githubusercontent.com/daipeihust/im-select/master/install_mac.sh | sh
</pre></td></tr></tbody></table></code></pre></div></div>

<p>获取当前输入法：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>/usr/local/bin/im-select
</pre></td></tr></tbody></table></code></pre></div></div>

<p>切换输入法：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>/usr/local/bin/im-select com.apple.keylayout.ABC
</pre></td></tr></tbody></table></code></pre></div></div>

<p><br /></p>

<ul>
  <li>配置 vscode 插件
<img src="/img/in-post/vscode-vim-input-method-setting.png" alt="setting" /></li>
</ul>

<p><br /></p>

<ul>
  <li>重启编辑器就可以开始敲代码啦~</li>
</ul>
:ET